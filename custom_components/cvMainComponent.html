<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="cvHomeComponent.html">
<link rel="import" href="../bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="../bower_components/iron-flex-layout/classes/iron-flex-layout.html">
<link rel="import" href="../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../bower_components/neon-animation/neon-animated-pages.html">
<link rel="import" href="../bower_components/neon-animation/neon-animations.html">
<link rel="import" href="cvProjectsComponent.html">

<dom-module id="cv-main-component">
    <style>
        [main] {
        @apply(--layout-flex);
        @apply(--layout-vertical);
            background-color: #f0f0f0;
        }

        paper-tab{
            font-size: 1.2em;
        }

        paper-header-panel div{
            background-color: #1565C0;
            padding-top: 10px;

            font-weight: 300;
            color: white;
        }

        h1{
            margin-left: 5%;
        }

        paper-tab div{
            display: inline;
        }

        paper-tabs paper-tab.iron-selected {
            color: #ffff8d;
        }

        paper-tabs{
            width: 50%;
            min-width: 550px;
            margin: auto;
        }
    </style>

    <template>
        <paper-header-panel>
            <div class="paper-header">
                <div class="paper-header">
                    <h1>CV de Corentin BEAL</h1>
                    <paper-tabs selected="{{selected}}">
                        <paper-tab>
                            <div>Accueil</div>
                        </paper-tab>
                        <paper-tab>
                            <div>Projets</div>
                        </paper-tab>
                        <paper-tab>
                            <div>Documents</div>
                        </paper-tab>
                    </paper-tabs>
                </div>
            </div>
        </paper-header-panel>
        <neon-animated-pages class="flex" id="pages" selected="{{selected}}" entry-animation="{{entry}}" exit-animation="{{exit}}">
            <neon-animatable>
                <div main>
                    <cv-home-component clickselected="{{selected}}" data="{{projects}}"></cv-home-component>
                </div>
            </neon-animatable>
            <neon-animatable>
                <div main>
                    <cv-projects-component data="{{projects}}"></cv-projects-component>
                </div>
            </neon-animatable>
            <neon-animatable>
                <div main>
                    Documents
                </div>
            </neon-animatable>
        </neon-animated-pages>
    </template>
</dom-module>

<script>

    Polymer({
        is:"cv-main-component",
        properties: {
            selected:{
                type: Number,
                value: 0,
                notify: true,
                observer: 'selectChanged'
            },
            projects:{
                type: Object,
                value: [
                    {title: "Titre", desc:"Description", show: true, category: "cpp"},
                    {title: "Deuxieme titre", desc: "Test description", show: true, category: "web"},
                    {title: "Wieme titre", desc: "Tesdesx", show: true, category: "web"},
                    {title: "Teuxieme titre", desc: "Test ption", show: true, category: "cpp"}
                ],
                notify: true
            }
        },

        ready: function(){
        },

        selectChanged: function(newValue, oldValue) {
            if(newValue == 0){
                this.entry = 'slide-from-right-animation';
                this.exit = 'slide-left-animation';
            }else if(newValue == 2){
                this.entry = 'slide-from-left-animation';
                this.exit = 'slide-right-animation';
            }else if(newValue < oldValue){
                this.entry = 'slide-from-left-animation';
                this.exit = 'slide-right-animation';
                console.log(' << ');
            }else{
                this.entry = 'slide-from-right-animation';
                this.exit = 'slide-left-animation';
                console.log(' >> ');
            }
        }
    })
</script>