<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="cvHomeComponent.html">
<link rel="import" href="../bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="../bower_components/iron-flex-layout/classes/iron-flex-layout.html">
<link rel="import" href="../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../bower_components/neon-animation/neon-animated-pages.html">
<link rel="import" href="../bower_components/neon-animation/neon-animations.html">
<link rel="import" href="cvProjectsComponent.html">

<dom-module id="cv-main-component">
    <style>
        [main] {
        @apply(--layout-flex);
        @apply(--layout-vertical);
        }

        paper-tab{
            font-size: 1.2em;
        }

        paper-header-panel div{
            background-color: #1565C0;
            padding-top: 10px;
            width: auto;

            font-weight: 300;
            color: white;
        }

        h1{
            margin-left: 5%;
        }

        paper-tab div{
            display: inline;
        }

        paper-tabs paper-tab.iron-selected {
            color: #ffff8d;
        }

        paper-tabs{
            width: 50%;
            min-width: 550px;
            margin: auto;
        }

        p{
            margin-left: auto;
            margin-right: auto;
            margin-top: 16px;
        }

        .flag{
            margin: 8px 8px 8px 8px;
        }

        .flag img{
            max-width: 24px;
            @apply(--shadow-elevation-4dp);
        }
    </style>

    <template>
        <paper-header-panel>
            <div class="paper-header">
                <div class="horizontal layout center">
                    <h1 class="flex">CV de Corentin BEAL</h1>
                    <div class="flag">
                      <img id="french_flag" src="../images/french_flag.png" on-click="test"></img>
                    </div>
                    <div class="flag">
                      <img id="english_flag" src="../images/english_flag_off.png" on-click="test"></img>
                    </div>
                </div>
                <paper-tabs selected="{{selected}}">
                    <paper-tab>
                        <div>Accueil</div>
                    </paper-tab>
                    <paper-tab>
                        <div>Projets</div>
                    </paper-tab>
                    <paper-tab>
                        <div>Documents</div>
                    </paper-tab>
                </paper-tabs>
            </div>
        </paper-header-panel>
        <neon-animated-pages class="flex" id="pages" selected="{{selected}}" entry-animation="{{entry}}" exit-animation="{{exit}}">
            <neon-animatable>
                <div main>
                    <cv-home-component clickselected="{{selected}}" data="{{projects}}"></cv-home-component>
                </div>
            </neon-animatable>
            <neon-animatable>
                <div main>
                    <cv-projects-component data="{{projects}}"></cv-projects-component>
                </div>
            </neon-animatable>
            <neon-animatable>
                <div main>
                    <p>Section en cours de travail</p>
                </div>
            </neon-animatable>
        </neon-animated-pages>
    </template>
</dom-module>

<script>

    Polymer({
        is:"cv-main-component",
        properties: {
            selected:{
                type: Number,
                value: 0,
                notify: true,
                observer: 'selectChanged'
            },
            projects:{
                type: Object,
                value: [
                    {title: "Editeur 3d", desc:["Un éditeur 3D basique qui permet de créer les formes de bases, de modifier leur taille, leur rotation et leur échelle.", "L'éditeur supporte aussi la création de plusieurs zones et de groupes pour gérer plusieurs objets en même temps.","Ce projet a été réaliser en C++ grâce à la bibliothèque Irrlicht"], link: "https://github.com/Aztyu/Editeur-3D", image: "editeur3D", show: true, category: "cpp"},
                    {title: "Mon CV", link: "https://github.com/Aztyu/PolymerCV", image: "polymercv", desc: ["Il s'agit de mon site personnel qui a pour but de servir de CV et protfolio tout en me permettant d'expérimenter de nouvelles technologies", "J'ai utiliser la technologie Polymer de Google, basé sur les web components, afin d'obtenir un site responsive et material design"], show: true, category: "web"},
                    {title: "Codeine10", link: "http://codeine10.science/", image: "codeine10", desc: ["Ce site Wordpress a été crée dans le cadre d'un projet SUPINFO sur l'optimisation de site Web","Le but était de placer le site en bonne position sur les moteurs de recherche grâce à diverses techniques et un bon contenu"], show: true, category: "seo"},
                    {title: "Todo list", link: "https://github.com/Aztyu/TodoJava", image: "todolist", desc: ["Ce programme permet de se connecter et de créer des tâches, il est ensuite possible de commenter ces tâches ou de les fermer","Le programme a été entièrement réaliser en Java avc Swing pour l'interface et une base de données MySQL pour sauvegarder les données"], show: true, category: "java"},
                    {title: "Gestionnaire de restaurant", link: "https://github.com/Jitrixis/2NET-Restaurant-Management-Software", image: "restaurant", desc: ["Un logiciel qui permet de gérer un restaurant en ajoutant des repas et serveurs puis de les assigner aux tables","Le C# a été utilisé pour créer le programme en WPF et LINQ pour gérer la liaison avec la base de donnée"], show: true, category: "csharp"},
                    {title: "Gestionnaire de taxi", link: "https://github.com/Jitrixis/2NET-Restaurant-Management-Software", image: "taxicsharp", desc: ["Un logiciel qui permet de gérer une compagnie de taxi en ajoutant des chauffeurs et trajets","Le programme s'exécute en mode console et a été programmé en C#"], show: true, category: "csharp"},
                    {title: "Retro breaker", link: "https://github.com/Aztyu/Retro_Breaker", image: "retrobreaker", desc: ["Retro breaker est un remake du célébre jeu de casse-brique avec un look rétro/néon","Au niveau technique, le C a été utilisé avec la bibliothèque SDL pour l'affichage"], show: true, category: "cpp"},
                ],
                notify: true
            },
            languages:{
                type: Object,
                value:{
                   "french":{
                      enabled: true
                   },
                   "english":{
                      enabled: false
                   }
                }
            }
        },

        ready: function(){
        },

        selectChanged: function(newValue, oldValue) {
            if(newValue == 0){
                this.entry = 'slide-from-right-animation';
                this.exit = 'slide-left-animation';
            }else if(newValue == 2){
                this.entry = 'slide-from-left-animation';
                this.exit = 'slide-right-animation';
            }else if(newValue < oldValue){
                this.entry = 'slide-from-left-animation';
                this.exit = 'slide-right-animation';
            }else{
                this.entry = 'slide-from-right-animation';
                this.exit = 'slide-left-animation';
            }
        },

        test: function(language){
            element = language.srcElement;
            id = element.getAttribute("id");
            switch(id){
              case 'french_flag':
                  enabled = this.languages.french.enabled;
                  other = this.$.english_flag;
                  if(!enabled){
                    console.log("test");
                      enabled = true;
                      this.languages.english.enabled = false;
                      element.setAttribute("src", "images/french_flag.png");
                      other.setAttribute("src", "images/english_flag_off.png");
                  }
                  break;
              case 'english_flag':
                  enabled = this.languages.english.enabled;
                  other = this.$.french_flag;
                  if(!enabled){
                      console.log("test");
                      enabled = true;
                      this.languages.french.enabled = false;
                      element.setAttribute("src", "images/english_flag.png");
                      other.setAttribute("src", "images/french_flag_off.png");
                  }
                  break;
            }
        }
    })
</script>
