<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-flex-layout/classes/iron-flex-layout.html">
<link rel="import" href="../bower_components/paper-material/paper-material.html">
<link rel="import" href="../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../custom_behaviors/customBehaviors.html">

<dom-module id="cv-formation-component">
    <style>
        iron-icon{
            --iron-icon-height: 108px;
            --iron-icon-width: 196px;
        }

        .wrapper{
        @apply(--shadow-elevation-2dp);
            padding: 4px 4px 4px 4px;
            margin-top: 16px;
        }

        .content{
        @apply(--layout-horizontal);
        }

        .info{
        @apply(--layout-vertical);
        @apply(--layout-flex);

        }

        #date{
        @apply(--shadow-elevation-4dp);
            color: white;
            border: 3px;
            padding: 5px 10px 5px 10px;
            margin-left: auto;
        }

        .title{
        @apply(--layout-horizontal);
            @apply(--layout-center);
        @apply(--layout-flex);
        }

        .diplome{
            margin: 0px 16px 0px 16px;
        }

        .desc{
            padding: 8px 16px 8px 16px ;
        }

        p{
            margin: 4px 4px 4px 4px;
        }

    </style>

    <template>
        <div class="wrapper">
            <div class="content">
                <a href={{src}} target="_blank">
                    <iron-icon src="{{computePath(image)}}"></iron-icon>
                </a>
                <div class="info">
                    <div class="title">
                        <p class="diplome">{{cursus}}</p>
                        <p id="date">{{date}}</p>
                    </div>
                </div>
            </div>
            <div class="desc">
                <template is="dom-repeat" items="{{description}}" as="phrase">
                    <p>{{phrase}}</p>
                </template>
            </div>
        </div>
    </template>
</dom-module>

<script>
    Polymer({
        is: "cv-formation-component",

        behaviors: [customBehaviors.ImageBehavior],

        properties: {
            cursus: String,
            date: String,
            src: String,
            description: Array
        },

        ready: function(){
            if(this.date == "En cours"){
                this.$$("#date").style.backgroundColor = "#43A047";
            }else{
                this.$$("#date").style.backgroundColor = "#2196F3";
            }
        }
    })
</script>
